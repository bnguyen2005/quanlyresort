<!DOCTYPE html>
<html lang="vi">
  <head>
    <title>Liên hệ | Resort Deluxe</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="/css/tokens.css">
  <link rel="stylesheet" href="/css/globals.css">
  <link rel="stylesheet" href="/css/grid.css">
    <link rel="stylesheet" href="/css/components/navbar.css">
    
    <!-- Navbar Auth Styles -->
    <link rel="stylesheet" href="css/navbar-auth.css">
    
    <style>
    /* Body Background - Contact Image */
    body {
      background-image: url('images/bg_2.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
      position: relative;
      min-height: 100vh;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.85);
      z-index: -1;
    }
    
    /* Modern Hero Section - Same as rooms.html */
    .rooms-hero {
      background-image: url('images/bg_1.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
      padding: 140px 0 100px;
      color: #fff;
      text-align: center;
      position: relative;
      overflow: hidden;
      margin-bottom: 60px;
      min-height: 500px;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    .rooms-hero .container {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      height: 100%;
      width: 100%;
    }
    .rooms-hero::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.5) 100%);
      z-index: 0;
    }
    .rooms-hero::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      opacity: 0.3;
      z-index: 1;
    }
    .rooms-hero-content {
      position: relative;
      z-index: 2;
      animation: slideUp 0.8s ease;
      width: 100%;
      text-align: center;
    }
    .rooms-hero h1 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 20px;
      color: #ffffff !important;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
      animation: fadeInDown 1s ease;
    }
    .rooms-hero p {
      font-size: 20px;
      color: #ffffff !important;
      opacity: 0.95;
      text-shadow: 0 2px 8px rgba(0,0,0,0.2);
      animation: fadeInUp 1.2s ease;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @media (max-width: 768px) {
      .rooms-hero {
        padding: 100px 0 60px;
        margin-bottom: 40px;
        background-attachment: scroll;
        min-height: 400px;
      }
      .rooms-hero h1 {
        font-size: 36px;
      }
    }
    
    /* Leaflet Map Styles */
    #map {
      z-index: 1;
    }
    
    .custom-marker {
      background: transparent !important;
      border: none !important;
    }
    
    .custom-popup .leaflet-popup-content-wrapper {
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .leaflet-routing-container {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      font-family: 'Poppins', sans-serif;
    }
    
    .leaflet-routing-alt {
      max-height: 300px;
      overflow-y: auto;
    }
    </style>
  </head>
  <body>

    <!-- Header placeholder - will be loaded by load-header.js -->
    <div id="header-placeholder"></div>
    
    <!-- Load header component -->
    <script src="js/load-header.js"></script>

    <section class="rooms-hero">
      <div class="container">
        <div class="rooms-hero-content">
          <h1 style="color: #ffffff !important;">Liên hệ</h1>
        </div>
      </div>
    </section>


    <section class="ftco-section contact-section bg-light">
      <div class="container">
        <div class="row d-flex mb-5 contact-info">
          <div class="col-md-12 mb-4">
            <h2 class="h3">Thông tin liên hệ</h2>
          </div>
          <div class="w-100"></div>
          <div class="col-md-3 d-flex">
          	<div class="info bg-white p-4">
            <p><span>Địa chỉ:</span> 123 Đường Biển Xanh, Thành phố Biển, Việt Nam</p>
	          </div>
          </div>
          <div class="col-md-3 d-flex">
          	<div class="info bg-white p-4">
            <p><span>Điện thoại:</span> <a href="tel:+84901329227">+84 901 329 227</a></p>
	          </div>
          </div>
          <div class="col-md-3 d-flex">
          	<div class="info bg-white p-4">
            <p><span>Email:</span> <a href="mailto:support@resortdeluxe.vn">support@resortdeluxe.vn</a></p>
	          </div>
          </div>
          <div class="col-md-3 d-flex">
          	<div class="info bg-white p-4">
            <p><span>Website</span> <a href="#">resortdeluxe.vn</a></p>
	          </div>
          </div>
        </div>
        <div class="row block-9">
          <div class="col-md-6 order-md-last d-flex">
            <form action="#" class="bg-white p-5 contact-form" data-validate="on">
              <div class="form-group">
                <input type="text" name="fullName" class="form-control" placeholder="Họ và tên" required data-label="Họ và tên" minlength="2">
              </div>
              <div class="form-group">
                <input type="email" name="email" class="form-control" placeholder="Email của bạn" required data-label="Email">
              </div>
              <div class="form-group">
                <input type="text" name="subject" class="form-control" placeholder="Chủ đề" required data-label="Chủ đề" minlength="4">
              </div>
              <div class="form-group">
                <textarea name="message" id="" cols="30" rows="7" class="form-control" placeholder="Nội dung" required data-label="Nội dung" minlength="10"></textarea>
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary py-3 px-5" data-action="submit">Gửi liên hệ</button>
                <button type="button" class="btn btn-secondary py-3 px-4" data-action="cancel" style="margin-left:8px;">Hủy</button>
              </div>
            </form>
          
          </div>

          <div class="col-md-6 d-flex">
          	<div id="map" class="bg-white" style="width: 100%; height: 100%; min-height: 500px; border-radius: 8px; overflow: hidden; z-index: 1;"></div>
          </div>
        </div>
      </div>
    </section>



    <footer class="ftco-footer ftco-bg-dark ftco-section">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">RESORT DELUXE</h2>
              <p>Khu nghỉ dưỡng cao cấp với đầy đủ tiện nghi hiện đại, phục vụ chu đáo và không gian tuyệt đẹp.</p>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
                <li class="ftco-animate"><a href="https://twitter.com/resortdeluxe" target="_blank" rel="noopener noreferrer"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="https://www.facebook.com/resortdeluxe" target="_blank" rel="noopener noreferrer"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="https://www.youtube.com/@resortdeluxe" target="_blank" rel="noopener noreferrer"><span class="icon-google-plus"></span></a></li>
                <li class="ftco-animate"><a href="https://www.instagram.com/resortdeluxe" target="_blank" rel="noopener noreferrer"><span class="icon-instagram"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <h2 class="ftco-heading-2">Liên kết hữu ích</h2>
              <ul class="list-unstyled">
                <li><a href="blog.html" class="py-2 d-block">Blog</a></li>
                <li><a href="rooms.html" class="py-2 d-block">Phòng nghỉ</a></li>
                <li><a href="restaurant.html" class="py-2 d-block">Nhà hàng & Dịch vụ</a></li>
                <li><a href="about.html" class="py-2 d-block">Về chúng tôi</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
             <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Chính sách</h2>
              <ul class="list-unstyled">
                <li><a href="contact.html" class="py-2 d-block">Liên hệ</a></li>
                <li><a href="faq.html" class="py-2 d-block">Câu hỏi thường gặp</a></li>
                <li><a href="support.html" class="py-2 d-block">Hỗ trợ</a></li>
                <li><a href="about.html" class="py-2 d-block">Tuyển dụng</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Bạn cần hỗ trợ?</h2>
            	<div class="block-23 mb-3">
	              <ul>
                <li><span class="icon icon-map-marker"></span><span class="text">123 Đường Biển Xanh, Thành phố Biển, Việt Nam</span></li>
                <li><a href="tel:+84901329227"><span class="icon icon-phone"></span><span class="text">+84 901 329 227</span></a></li>
                <li><a href="mailto:support@resortdeluxe.vn"><span class="icon icon-envelope"></span><span class="text">support@resortdeluxe.vn</span></a></li>
	              </ul>
	            </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">

            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart color-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>
    
  

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <!-- <script src="js/jquery.timepicker.min.js"></script> --> <!-- File not found, commented out -->
  <script src="js/scrollax.min.js"></script>
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
  
  <!-- Leaflet JavaScript -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
  
  <!-- Leaflet Routing Machine for directions -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
  
  <!-- Load OpenStreetMap script -->
  <script src="js/openstreetmap.js"></script>
  <script src="js/main.js"></script>
  <script src="js/form-validation.js"></script>
  
  <!-- Navbar Authentication Handler -->
  <script src="../js/api.js"></script>
  <script src="js/navbar-auth.js"></script>
  
  <!-- Contact Form Handler -->
  <script>
    (function() {
      const contactForm = document.querySelector('.contact-form');
      if (!contactForm) return;
      
      const submitBtn = contactForm.querySelector('button[data-action="submit"]');
      const cancelBtn = contactForm.querySelector('button[data-action="cancel"]');
      
      // Get API base URL
      const getApiBaseUrl = () => {
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
          return 'http://localhost:5130';
        }
        return window.location.origin;
      };
      
      // Show toast notification
      function showToast(message, type = 'info') {
        const toast = document.createElement('div');
        toast.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 9999;
          padding: 16px 24px;
          border-radius: 8px;
          color: white;
          font-weight: 500;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          animation: slideInRight 0.3s ease;
          max-width: 400px;
        `;
        
        const colors = {
          success: '#28a745',
          error: '#dc3545',
          warning: '#ffc107',
          info: '#17a2b8'
        };
        
        toast.style.background = colors[type] || colors.info;
        toast.textContent = message;
        
        document.body.appendChild(toast);
        
        setTimeout(() => {
          toast.style.animation = 'slideOutRight 0.3s ease';
          setTimeout(() => toast.remove(), 300);
        }, 4000);
      }
      
      // Add CSS animations
      if (!document.getElementById('toast-animations')) {
        const style = document.createElement('style');
        style.id = 'toast-animations';
        style.textContent = `
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
      }
      
      contactForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Get form data
        const formData = {
          fullName: contactForm.querySelector('input[name="fullName"]').value.trim(),
          email: contactForm.querySelector('input[name="email"]').value.trim(),
          subject: contactForm.querySelector('input[name="subject"]').value.trim(),
          message: contactForm.querySelector('textarea[name="message"]').value.trim()
        };
        
        // Validate
        if (!formData.fullName || !formData.email || !formData.subject || !formData.message) {
          showToast('Vui lòng điền đầy đủ thông tin', 'error');
          return;
        }
        
        // Disable submit button
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Đang gửi...';
        }
        
        try {
          const response = await fetch(`${getApiBaseUrl()}/api/contact`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
          });
          
          const data = await response.json();
          
          if (response.ok && data.success) {
            showToast(data.message || 'Cảm ơn bạn đã liên hệ! Chúng tôi sẽ phản hồi sớm nhất có thể.', 'success');
            contactForm.reset();
            
            // Clear any validation errors
            contactForm.querySelectorAll('.is-invalid').forEach(el => {
              el.classList.remove('is-invalid');
            });
            contactForm.querySelectorAll('.fv-error').forEach(el => {
              el.remove();
            });
          } else {
            showToast(data.message || 'Không thể gửi liên hệ. Vui lòng thử lại sau.', 'error');
          }
        } catch (error) {
          console.error('Error sending contact form:', error);
          showToast('Đã xảy ra lỗi khi gửi liên hệ. Vui lòng thử lại sau.', 'error');
        } finally {
          // Re-enable submit button
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'Gửi liên hệ';
          }
        }
      });
      
      // Cancel button
      if (cancelBtn) {
        cancelBtn.addEventListener('click', function() {
          contactForm.reset();
          contactForm.querySelectorAll('.is-invalid').forEach(el => {
            el.classList.remove('is-invalid');
          });
          contactForm.querySelectorAll('.fv-error').forEach(el => {
            el.remove();
          });
        });
      }
    })();
  </script>
  
  <!-- AI Chat Widget -->
  <script src="js/ai-chat.js"></script>
    
  </body>
</html>